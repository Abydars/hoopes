!function(t){void 0!==acf.add_action?acf.add_action("ready append",function(f){acf.get_fields({type:"google_font_selector"},f).each(function(){t(this),jQuery(document).on("change",".acfgfs-font-family select",function(){var f=t(this).val(),e=t(this).parents(".acf-input:first"),a=e.find(".acfgfs-font-variants .acfgfs-list"),s=e.find(".acfgfs-font-subsets .acfgfs-list"),n=e.find(".acfgfs-font-data").val();jQuery.ajax({url:ajaxurl,type:"post",dataType:"json",beforeSend:function(){e.find(".acfgfs-loader").show()},data:{action:"acfgfs_get_font_details",font_family:f,data:n},success:function(t){e.find(".acfgfs-loader").hide(),a.html(t.variants),s.html(t.subsets),preview_text=jQuery("#acfgfs-preview div").html(),font=f.replace(" ","+"),e.find(".acfgfs-preview").html('<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family='+font+'"><div style="font-family:'+f+'"></div>'),jQuery("#acfgfs-preview div").html(preview_text)}})})})}):t(document).live("acf/setup_fields",function(f,e){t(e).find('.field[data-field_type="google_font_selector"]').each(function(){t(this),jQuery(document).on("change",".acfgfs-font-family select",function(){var f=t(this).val(),e=t(this).parents(".acfgfs-font-selector:first"),a=e.find(".acfgfs-font-variants .acfgfs-list"),s=e.find(".acfgfs-font-subsets .acfgfs-list"),n=e.find(".acfgfs-font-data").val();jQuery.ajax({url:ajaxurl,type:"post",dataType:"json",beforeSend:function(){e.find(".acfgfs-loader").show()},data:{action:"acfgfs_get_font_details",font_family:f,data:n},success:function(t){e.find(".acfgfs-loader").hide(),a.html(t.variants),s.html(t.subsets),font=f.replace(" ","+"),e.find(".acfgfs-preview").html('<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family='+font+'"><div style="font-family:'+font+'">This is new a preview of the selected font</div>')}})})})})}(jQuery);
